<div [ngClass]="{'active-player': isActivePlayer}" class="scorecard-container flex flex-col justify-center bg-main-base relative">
  <span class="player-title absolute bg-white whitespace-nowrap overflow-hidden text-ellipsis text-center" [ngClass]="{'indexPlayer': playerIndex !== 0,'active-player-title': isActivePlayer}">{{
    player?.name }}</span>
  <div class="section flex flex-col">
    @for (item of upperSection; track item.name) {
    <div class="row flex justify-between items-center">
      <div class="label flex items-center justify-center">
        <img class="icon" [src]="item.icon"> {{ item.name }}
      </div>
      <input class="disabled-input" [value]="player?.scoreCard?.[item.variable]?.value ?? ' '"
        [ngClass]="{'score-box': !checkScore(item)}" readonly [disabled]="item.disabled"
        (click)="onInputClick(item.variable)" />
    </div>
    }
  </div>
  <hr class="section-divider">
  <div class="bonus flex justify-start items-center">
    <div class="row bonus-title">Bonus</div>
    <input class="total-box" [value]="player?.scoreCard?.bonus === null ? ' ' : player?.scoreCard?.bonus" readonly />
  </div>
  <hr class="section-divider">
  <div class="section flex flex-col">
    @for (item of lowerSection; track item.name) {
    <div class="row flex justify-between items-center">
      <div class="flex gap-1">
        <div class="label">{{ item.name }}</div>
        @if (item.name == 'YAHTZEE' && this.player?.scoreCard?.[nbrOfYahtzee] > 1) {
          @for (check of [].constructor(this.player?.scoreCard?.[nbrOfYahtzee] - 1); track $index) {
            <img ngSrc="assets/icons/check-mark.png" class="mb-2" width="24" height="24"  alt="check"/>
          }
        }
      </div>
      <input class="disabled-input" [value]="player?.scoreCard?.[item.variable]?.value ?? ' '"
        [ngClass]="{'score-box': !checkScore(item)}" readonly [disabled]="item.disabled"
        (click)="onInputClick(item.variable)" />
    </div>
    }
  </div>
  <hr class="section-divider">
  <div class="total flex justify-start items-center">
    <div class="row total-title">Total</div>
    <input class="total-box larger" [value]="player?.scoreCard?.total === null ? 0 : player?.scoreCard?.total" readonly />
  </div>
</div>
